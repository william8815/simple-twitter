(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c6285aa"],{"0f41":function(s,t,a){"use strict";a("9fd5")},"879c":function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=s._self._c;return t("div",{staticClass:"regist"},[s._m(0),s._m(1),t("form",{staticClass:"form",attrs:{action:""},on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),s.handleSubmit(t)}}},[t("div",{staticClass:"form__label"},[t("label",{attrs:{for:"account"}},[s._v("帳號")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.account,expression:"account"}],staticClass:"label__control",class:{error:s.isAccountError},attrs:{type:"text",name:"account",id:"account",placeholder:"請輸入帳號"},domProps:{value:s.account},on:{input:function(t){t.target.composing||(s.account=t.target.value)}}}),t("div",{staticClass:"inputInfo"},[t("div",{staticClass:"errorInfo"},[s.isAccountError?t("span",{attrs:{id:"info"}},[s._v("帳號 或 e-mail 已經有人使用")]):s._e()])])]),t("div",{staticClass:"form__label"},[t("label",{attrs:{for:"name"}},[s._v("名稱")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"name"}],staticClass:"label__control",class:{error:this.name.length>50},attrs:{type:"text",name:"name",id:"name",placeholder:"請輸入名稱",maxlength:"51"},domProps:{value:s.name},on:{input:function(t){t.target.composing||(s.name=t.target.value)}}}),t("div",{staticClass:"inputInfo"},[t("div",{staticClass:"errorInfo"},[this.name.length>50?t("span",{attrs:{id:"info"}},[s._v("名稱字數上限 50 ")]):s._e()]),t("div",{staticClass:"lenghtInfo"},[t("span",{attrs:{id:"length"}},[s._v(s._s(s.nameLength)+" / 50")])])])]),t("div",{staticClass:"form__label"},[t("label",{attrs:{for:"email"}},[s._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"label__control",class:{error:s.isEmailError},attrs:{type:"email",name:"email",id:"email",placeholder:"請輸入email"},domProps:{value:s.email},on:{input:function(t){t.target.composing||(s.email=t.target.value)}}}),t("div",{staticClass:"inputInfo"},[t("div",{staticClass:"errorInfo"},[s.isEmailError?t("span",{attrs:{id:"info"}},[s._v("帳號 或 e-mail 已經有人使用")]):s._e()])])]),t("div",{staticClass:"form__label"},[t("label",{attrs:{for:"password"}},[s._v("密碼")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"label__control",attrs:{type:"password",name:"password",id:"password",placeholder:"請輸入密碼"},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value)}}})]),t("div",{staticClass:"form__label"},[t("label",{attrs:{for:""}},[s._v("密碼確認")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.checkPassword,expression:"checkPassword"}],staticClass:"label__control",attrs:{type:"password",name:"checkPassword",id:"checkPassword",placeholder:"請再次輸入密碼"},domProps:{value:s.checkPassword},on:{input:function(t){t.target.composing||(s.checkPassword=t.target.value)}}})]),t("div",{staticClass:"form__btn"},[t("button",{staticClass:"btn submit",attrs:{type:"submit",disabled:s.isProcessing}},[s._v(" 註冊 ")])]),t("div",{staticClass:"form__btn"},[t("router-link",{staticClass:"btn cancel",attrs:{to:"/login"}},[s._v(" 取消 ")])],1)])])},i=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"brand__image"},[t("img",{attrs:{src:a("1ae4"),alt:""}})])},function(){var s=this,t=s._self._c;return t("div",{staticClass:"brand__title"},[t("h3",[s._v("建立你的帳號")])])}],r=(a("d9e2"),a("2fa3")),o=a("7696"),n={name:"Regist",data(){return{name:"",account:"",email:"",password:"",checkPassword:"",isAccountError:!1,isEmailError:!1,isProcessing:!1}},methods:{async handleSubmit(){try{if(this.isProcessing=!0,!this.name||!this.email||!this.account||!this.password||!this.checkPassword)return r["c"].fire({icon:"warning",title:"請確認已填寫所有欄位"}),void(this.isProcessing=!1);if(this.name&&this.name.length>50)return r["c"].fire({icon:"warning",title:"名稱字數不能超過 50 "}),void(this.isProcessing=!1);if(this.password.length<4)return r["c"].fire({icon:"warning",title:"密碼長度不得小於 4 "}),this.password="",this.checkPassword="",void(this.isProcessing=!1);if(this.password!==this.checkPassword)return r["c"].fire({icon:"warning",title:"兩次輸入的密碼不同"}),this.password="",this.checkPassword="",void(this.isProcessing=!1);const{data:s}=await o["a"].signUp({name:this.name,account:this.account,email:this.email,password:this.password,checkPassword:this.checkPassword});if("error"===s.status)throw new Error(s.message);r["c"].fire({icon:"success",title:"帳號註冊成功"}),this.$router.push("/login")}catch(s){this.isProcessing=!1,"帳號或信箱已有人使用了!"===s.response.data.message&&(this.isEmailError=!0,this.isAccountError=!0),console.error(s.response),this.account="",this.email=""}}},computed:{nameLength(){return this.name.length}}},c=n,l=(a("0f41"),a("2877")),d=Object(l["a"])(c,e,i,!1,null,"babf9bfa",null);t["default"]=d.exports},"9fd5":function(s,t,a){}}]);
//# sourceMappingURL=chunk-3c6285aa.e1fba0ff.js.map