{"version":3,"sources":["webpack:///./src/components/ReplyModal.vue","webpack:///src/components/ReplyModal.vue","webpack:///./src/components/ReplyModal.vue?cdbf","webpack:///./src/components/ReplyModal.vue?c708","webpack:///./src/components/ReplyModal.vue?8ef4","webpack:///./src/views/Main.vue?9072","webpack:///./src/views/Main.vue","webpack:///src/views/Main.vue","webpack:///./src/views/Main.vue?bf5f","webpack:///./src/views/Main.vue?5d79"],"names":["render","_vm","this","_c","_self","staticClass","on","cancelModal","$event","stopPropagation","apply","arguments","attrs","name","_f","tweetContent","User","avatar","_v","_s","account","createdAt","description","currentUser","preventDefault","handleSubmit","text","directives","rawName","value","expression","domProps","target","composing","isProcessing","staticRenderFns","mixins","props","initial_tweet","type","required","data","count","id","UserId","replyCount","replyState","computed","created","methods","fetchReplyModal","Toast","icon","title","tweetId","comment","console","component","staticStyle","tweetState","handleSubmitTweet","params","submitTweet","content","ref","length","_e","class","red","countLength","isLoading","_l","tweets","tweet","key","makeReply","isLiked","disabled","deleteLike","addLike","likeCount","afterReplyState","afterHandleSubmit","components","Navbar","RecommendUsers","ReplyModal","Spinner","limit"],"mappings":"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AAO,aAAaT,EAAG,OAAO,CAACE,YAAY,OAAO,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGsD,EAAMO,oBAAqBP,EAAM3B,WAAY3C,EAAG,aAAa,CAACS,MAAM,CAAC,cAAgB6D,GAAOnE,GAAG,CAAC,iBAAmBL,EAAIgF,gBAAgB,eAAehF,EAAIiF,qBAAqBjF,EAAIiE,MAAM,MAAK,MAAM,OAAO/D,EAAG,UAAU,CAACE,YAAY,QAAQqD,YAAY,CAAC,YAAY,UAAU,CAACvD,EAAG,mBAAmB,MAEloGgC,EAAkB,G,4GC2KP,GACftB,sBACAuB,uBACA+C,YACAC,cACAC,sBACAC,kBACAC,gBAEA9C,OACA,OACAC,QACAqB,WACAS,UACAb,cACAW,aACApC,kBAGAa,aACA,gCACAsB,cACA,6BAGArB,UACA,iBACAwC,YAGAvC,SACA,wBAAAuC,IACA,IACA,kBACA,WAAA/C,SAAA,kBACA+C,UAEA,cACAhC,yBACA,oCACA,EACAV,cACAa,iBAEA,kBACA,SACA,kBACAH,eACAL,aACAC,aACAC,2BAKA,iBACA,IACA,qBACA,WAAAZ,SAAA,uBACA,wBACA,2BAEA,+BACA,SACA,IACA,EACAmC,WACAI,yBAGA,GAEA7B,aACAC,eACAC,cAEA,qBACA,SACA,qBACAG,eACAL,aACAC,aACAC,iBAKA,oBACA,IACA,qBACA,WAAAZ,SAAA,0BACA,wBACA,2BAEA,+BACA,SACA,IACA,EACAmC,WACAI,yBAGA,GAEA7B,aACAC,eACAC,eAEA,qBACA,SACA,qBACAG,eACAL,aACAC,aACAC,gBAGA,qBAGAsB,aACA,+BACA,SACA,IACA,EACA7B,eAGA,IAIAmC,mBACA,+BACA,SACA,IACA,EACAnC,eAGA,IAIA,iCAAAQ,IACA,+BACA,SACA,IACA,EACAR,cACAD,2BAGA,IAIA,oBACA,4BAOA,2BACAM,aACAC,aACAC,6BAIA,IACA,qBACA,WAAAZ,SAAA,iBACAnB,2BAEA,wBACA,2BAEA6B,aACAC,eACAC,mBAEA,iBAAAmC,WACA,gBACA,qBACA,SACA,qBACArC,aACAC,aACAC,sBAhCAF,aACAC,aACAC,oBAmCA,0BACA,iBAAAmC,cCxX8U,I,wBCQ1U/B,EAAY,eACd,EACAzD,EACAmC,GACA,EACA,KACA,WACA,MAIa,aAAAsB,E","file":"js/chunk-2c46dbc4.52c6711c.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"black\",on:{\"click\":_vm.cancelModal}}),_c('div',{staticClass:\"reply-modal\"},[_c('div',{staticClass:\"modal\"},[_c('div',{staticClass:\"cancel\"},[_c('i',{staticClass:\"fa-solid fa-xmark\",on:{\"click\":function($event){$event.stopPropagation();return _vm.cancelModal.apply(null, arguments)}}})]),_c('div',{staticClass:\"sent-user\"},[_c('router-link',{staticClass:\"avator\",attrs:{\"to\":{ name: 'main' }}},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.tweetContent.User.avatar),\"alt\":\"userImg\"}})]),_c('div',{staticClass:\"user\"},[_c('div',{staticClass:\"user__info\"},[_c('router-link',{attrs:{\"to\":{ name: 'main' }}},[_c('span',{staticClass:\"user__name\"},[_vm._v(_vm._s(_vm.tweetContent.User.name))]),_c('span',{staticClass:\"user__account\"},[_vm._v(\"@\"+_vm._s(_vm.tweetContent.User.account)+\" ・\")])]),_c('router-link',{attrs:{\"to\":{ name: 'main' }}},[_c('span',{staticClass:\"user__posttime\"},[_vm._v(_vm._s(_vm._f(\"fromNow\")(_vm.tweetContent.createdAt)))])])],1),_c('div',{staticClass:\"user__post\"},[_vm._v(\" \"+_vm._s(_vm.tweetContent.description)+\" \")]),_c('div',{staticClass:\"user__sent\"},[_c('span',[_vm._v(\"回覆  \")]),_c('span',{staticClass:\"sent-account\"},[_vm._v(\"@\"+_vm._s(_vm.tweetContent.User.account))])])])],1),_c('div',{staticClass:\"tweet\"},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.currentUser.avatar),\"alt\":\"userImg\"}}),_c('form',{attrs:{\"action\":\"\"},on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{attrs:{\"id\":\"parent\"}},[_c('div',{attrs:{\"id\":\"dummy\"}},[_vm._v(_vm._s(_vm.text))]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],staticClass:\"tweet-content\",attrs:{\"name\":\"tweet\",\"id\":\"\",\"cols\":\"30\",\"rows\":\"6\",\"placeholder\":\"推你的回覆\"},domProps:{\"value\":(_vm.text)},on:{\"input\":function($event){if($event.target.composing)return;_vm.text=$event.target.value}}})]),_c('button',{staticClass:\"tweet-btn\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isProcessing}},[_vm._v(\" 推文 \")])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"black\" @click=\"cancelModal\"></div>\r\n    <div class=\"reply-modal\">\r\n      <div class=\"modal\">\r\n        <div class=\"cancel\">\r\n          <i class=\"fa-solid fa-xmark\" @click.stop=\"cancelModal\"></i>\r\n        </div>\r\n        <!-- 留言對象 -->\r\n        <div class=\"sent-user\">\r\n          <router-link :to=\"{ name: 'main' }\" class=\"avator\">\r\n            <img :src=\"tweetContent.User.avatar | emptyImage\" alt=\"userImg\" />\r\n          </router-link>\r\n          <div class=\"user\">\r\n            <div class=\"user__info\">\r\n              <router-link :to=\"{ name: 'main' }\">\r\n                <span class=\"user__name\">{{ tweetContent.User.name }}</span>\r\n                <span class=\"user__account\"\r\n                  >@{{ tweetContent.User.account }} ・</span\r\n                >\r\n              </router-link>\r\n              <router-link :to=\"{ name: 'main' }\">\r\n                <span class=\"user__posttime\">{{\r\n                  tweetContent.createdAt | fromNow\r\n                }}</span>\r\n              </router-link>\r\n            </div>\r\n            <div class=\"user__post\">\r\n              {{ tweetContent.description }}\r\n            </div>\r\n            <div class=\"user__sent\">\r\n              <span>回覆&nbsp;&nbsp;</span>\r\n              <span class=\"sent-account\">@{{ tweetContent.User.account }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- 回覆留言區 -->\r\n        <div class=\"tweet\">\r\n          <img :src=\"currentUser.avatar | emptyImage\" alt=\"userImg\" />\r\n          <form @submit.stop.prevent=\"handleSubmit\" action=\"\">\r\n            <div id=\"parent\">\r\n              <div id=\"dummy\">{{ text }}</div>\r\n              <textarea\r\n                v-model=\"text\"\r\n                class=\"tweet-content\"\r\n                name=\"tweet\"\r\n                id=\"\"\r\n                cols=\"30\"\r\n                rows=\"6\"\r\n                placeholder=\"推你的回覆\"\r\n              ></textarea>\r\n            </div>\r\n            <button type=\"submit\" class=\"tweet-btn\" :disabled=\"isProcessing\">\r\n              推文\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tweetsAPI from \"./../apis/tweet\";\r\nimport { emptyImageFilter } from \"./../utils/mixins\";\r\nimport { fromNowFilter } from \"./../utils/mixins\";\r\nimport { mapState } from \"vuex\";\r\nimport { Toast } from \"./../utils/helpers\";\r\nexport default {\r\n  name: \"ReplyModel\",\r\n  mixins: [emptyImageFilter, fromNowFilter],\r\n  props: {\r\n    initial_tweet: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      count: 6,\r\n      // replyState: false,\r\n      tweetContent: {\r\n        id: -1,\r\n        UserId: -1,\r\n        description: \"\",\r\n        createdAt: \"\",\r\n        User: {},\r\n        replyCount: 0,\r\n        replyState: 0,\r\n      },\r\n      text: \"\",\r\n      isProcessing: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentUser\"]),\r\n  },\r\n  created() {\r\n    this.fetchReplyModal();\r\n  },\r\n  methods: {\r\n    fetchReplyModal() {\r\n      const {\r\n        id,\r\n        UserId,\r\n        description,\r\n        createdAt,\r\n        User,\r\n        replyCount,\r\n        replyState,\r\n      } = this.initial_tweet;\r\n      this.tweetContent = {\r\n        id,\r\n        UserId,\r\n        description,\r\n        createdAt,\r\n        User,\r\n        replyCount,\r\n        replyState,\r\n      };\r\n      // this.tweetContent = this.initial_tweet;\r\n    },\r\n    cancelModal() {\r\n      // this.replyState = false;\r\n      this.$emit(\"handleReplyState\", this.initial_tweet.id);\r\n    },\r\n    async handleSubmit() {\r\n      // 預防 required 屬性被刪掉\r\n      if (!this.text) {\r\n        Toast.fire({\r\n          icon: \"warning\",\r\n          title: \"請勿提交空白留言\",\r\n        });\r\n        return;\r\n      } else if (!this.text.length > 140) {\r\n        Toast.fire({\r\n          icon: \"warning\",\r\n          title: \"留言字數已超過140\",\r\n        });\r\n        return;\r\n      }\r\n      try {\r\n        this.isProcessing = true;\r\n        const { data } = await tweetsAPI.addNewComment({\r\n          tweetId: this.tweetContent.id,\r\n          comment: this.text,\r\n        });\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n        this.$emit(\"after-submit\", {\r\n          tweetId: this.tweetContent.id,\r\n          comment: this.text,\r\n        });\r\n        Toast.fire({\r\n          icon: \"success\",\r\n          title: \"成功新增一則留言\",\r\n        });\r\n        this.isProcessing = false;\r\n      } catch (error) {\r\n        this.isProcessing = false;\r\n        console.log(error);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"新增留言失敗，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n// 圖片共同樣式\r\nimg {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  margin-right: 8px;\r\n}\r\n.black {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 2;\r\n  background: rgba($color: #333, $alpha: 0.5);\r\n}\r\n.reply-modal {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  z-index: 3;\r\n  .modal {\r\n    width: 50vw;\r\n    background-color: #fff;\r\n    border-radius: 14px;\r\n    margin: 56px auto;\r\n  }\r\n}\r\n.cancel {\r\n  padding: 20px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  i {\r\n    font-size: 20px;\r\n    color: var(--main-color);\r\n  }\r\n}\r\n.tweet {\r\n  height: calc(100% - 60px);\r\n  display: flex;\r\n  padding: 16px 16px 16px 24px;\r\n  form {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n  }\r\n  #parent {\r\n    width: 100%;\r\n    position: relative;\r\n    font-size: 16px;\r\n    font-weight: 400;\r\n    max-height: 60vh;\r\n    color: #6c757d;\r\n  }\r\n  #dummy {\r\n    visibility: hidden;\r\n    min-height: 114px;\r\n    white-space: pre-wrap;\r\n    color: #6c757d;\r\n    padding-top: 12px;\r\n  }\r\n  #dummy::after {\r\n    content: \"\\A\";\r\n  }\r\n  .tweet-content {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    resize: none;\r\n    font: inherit;\r\n    padding-top: 12px;\r\n    border: none;\r\n    outline: none;\r\n  }\r\n  .tweet-btn {\r\n    align-self: flex-end;\r\n    margin-top: 16px;\r\n    border: none;\r\n    background-color: var(--main-color);\r\n    color: #fff;\r\n    width: 64px;\r\n    height: 40px;\r\n    border-radius: 50px;\r\n    padding: 8px 16px;\r\n    font-size: 16px;\r\n  }\r\n}\r\n.sent-user {\r\n  position: relative;\r\n  display: flex;\r\n  padding: 16px 24px;\r\n}\r\n.sent-user::after {\r\n  content: \"\";\r\n  height: calc(100% - 82px);\r\n  width: 2px;\r\n  background-color: #b5b5be;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 48px;\r\n}\r\n.user {\r\n  &__name {\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n    margin-right: 8px;\r\n  }\r\n  &__account,\r\n  &__posttime,\r\n  &__sent {\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    color: #6c757d;\r\n  }\r\n  &__sent {\r\n    .sent-account {\r\n      color: var(--main-color);\r\n    }\r\n  }\r\n  &__post {\r\n    margin: 8px 0;\r\n    color: #171725;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReplyModal.vue?vue&type=template&id=0bb62833&scoped=true&\"\nimport script from \"./ReplyModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ReplyModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReplyModal.vue?vue&type=style&index=0&id=0bb62833&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bb62833\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyModal.vue?vue&type=style&index=0&id=0bb62833&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&id=0234df0c&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container row\"},[_c('section',{staticClass:\"col-2\",staticStyle:{\"min-width\":\"176px\"}},[_c('Navbar',{attrs:{\"tweet_state\":_vm.tweetState},on:{\"submit-tweet\":_vm.handleSubmitTweet}})],1),_c('section',{staticClass:\"main-section col-7\"},[_c('div',{staticClass:\"main .scrollbar\"},[_c('h4',[_vm._v(\"首頁\")]),_c('div',{staticClass:\"tweet-board\"},[_c('div',{staticClass:\"tweet-board__user\"},[_c('router-link',{attrs:{\"to\":{ name: 'user-post', params: { id: _vm.currentUser.id } }}},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.currentUser.avatar),\"alt\":\"userImg\"}})]),_c('form',{attrs:{\"action\":\"\"},on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submitTweet.apply(null, arguments)}}},[_c('div',{attrs:{\"id\":\"parent\"}},[_c('div',{attrs:{\"id\":\"dummy\"}},[_vm._v(_vm._s(_vm.content))]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],ref:\"mainTextarea\",staticClass:\"tweet-content\",attrs:{\"name\":\"tweet\",\"id\":\"\",\"cols\":\"30\",\"rows\":\"2\",\"placeholder\":\"有甚麼新鮮事?\"},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing)return;_vm.content=$event.target.value}}})]),_c('div',{staticClass:\"tweet-footer\"},[(_vm.content.length > 140)?_c('span',{staticClass:\"alertWord\"},[_vm._v(\"已超過 140 個字\")]):_vm._e(),_c('span',{class:{ red: _vm.content.length > 140 }},[_vm._v(_vm._s(_vm.countLength)+\"/140\")]),_c('button',{staticClass:\"tweet-btn\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isProcessing}},[_vm._v(\" 推文 \")])])])],1),(_vm.isLoading)?_c('Spinner'):_c('div',{staticClass:\"tweet-board__otherUser\"},[_c('ul',_vm._l((_vm.tweets),function(tweet){return _c('li',{key:tweet.id,staticClass:\"list-item\"},[_c('router-link',{attrs:{\"to\":{ name: 'user-post', params: { id: tweet.UserId } }}},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(tweet.User.avatar),\"alt\":\"otherUserImg\"}})]),_c('div',[_c('div',{staticClass:\"user\"},[_c('router-link',{staticClass:\"user__name\",attrs:{\"to\":{\n                      name: 'user-post',\n                      params: { id: tweet.UserId },\n                    }}},[_vm._v(\" \"+_vm._s(tweet.User.name)+\" \")]),_c('router-link',{staticClass:\"user__account\",attrs:{\"to\":{\n                      name: 'user-post',\n                      params: { id: tweet.UserId },\n                    }}},[_vm._v(\" @\"+_vm._s(tweet.User.account)+\" ・ \")]),_c('router-link',{staticClass:\"user__posttime\",attrs:{\"to\":{ name: 'replylist', params: { id: tweet.id } }}},[_vm._v(\" \"+_vm._s(_vm._f(\"fromNow\")(tweet.createdAt))+\" \")])],1),_c('div',{staticClass:\"post\"},[_c('router-link',{staticStyle:{\"white-space\":\"pre-wrap\"},attrs:{\"to\":{ name: 'replylist', params: { id: tweet.id } }}},[_vm._v(_vm._s(tweet.description))])],1),_c('div',{staticClass:\"extra-info\"},[_c('div',{staticClass:\"btn comment\"},[_c('svg',{staticClass:\"icon comment__icon\",attrs:{\"viewBox\":\"0 0 30 30\",\"fill\":\"#657786\",\"xmlns\":\"http://www.w3.org/2000/svg\"},on:{\"click\":function($event){return _vm.makeReply(tweet.id)}}},[_c('path',{attrs:{\"d\":\"M17.5576 2.80254L12.3726 2.79004H12.3701C6.90262 2.79004 2.62012 7.07379 2.62012 12.5425C2.62012 17.665 6.60262 21.55 11.9514 21.755V26.54C11.9514 26.675 12.0064 26.8975 12.1014 27.0438C12.2789 27.325 12.5814 27.4775 12.8914 27.4775C13.0639 27.4775 13.2376 27.43 13.3939 27.33C13.7239 27.12 21.4851 22.155 23.5039 20.4475C25.8814 18.435 27.3039 15.485 27.3076 12.5575V12.5363C27.3001 7.07754 23.0201 2.80254 17.5576 2.80129V2.80254ZM22.2914 19.0175C20.8739 20.2175 16.2139 23.2738 13.8264 24.8213V20.8375C13.8264 20.32 13.4076 19.9 12.8889 19.9H12.3939C7.81887 19.9 4.49637 16.805 4.49637 12.5425C4.49637 8.12504 7.95637 4.66504 12.3714 4.66504L17.5551 4.67754H17.5576C21.9726 4.67754 25.4326 8.13504 25.4351 12.5475C25.4314 14.935 24.2576 17.3525 22.2926 19.0175H22.2914Z\"}})]),_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(tweet.replyCount))])]),_c('div',{staticClass:\"btn like\"},[(tweet.isLiked)?_c('svg',{staticClass:\"icon like__icon\",class:{ disabled: _vm.isProcessing },attrs:{\"viewBox\":\"0 0 30 30\",\"fill\":\"#f91880\",\"xmlns\":\"http://www.w3.org/2000/svg\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteLike(tweet.id)}}},[_c('path',{attrs:{\"d\":\"M15 27.0478H14.9825C11.7538 26.9878 2.4375 18.5703 2.4375 10.5978C2.4375 6.76777 5.59375 3.40527 9.19125 3.40527C12.0537 3.40527 13.9787 5.38027 14.9987 6.81777C16.0162 5.38277 17.9412 3.40527 20.805 3.40527C24.405 3.40527 27.56 6.76777 27.56 10.599C27.56 18.569 18.2425 26.9865 15.0137 27.0453H15V27.0478Z\",\"fill\":\"#f91880\"}})]):_c('svg',{staticClass:\"icon like__icon\",class:{ disabled: _vm.isProcessing },attrs:{\"viewBox\":\"0 0 30 30\",\"fill\":\"#fff\",\"stroke\":\"#657786\",\"stroke-width\":\"2px\",\"xmlns\":\"http://www.w3.org/2000/svg\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.addLike(tweet.id)}}},[_c('path',{attrs:{\"d\":\"M15 27.0478H14.9825C11.7538 26.9878 2.4375 18.5703 2.4375 10.5978C2.4375 6.76777 5.59375 3.40527 9.19125 3.40527C12.0537 3.40527 13.9787 5.38027 14.9987 6.81777C16.0162 5.38277 17.9412 3.40527 20.805 3.40527C24.405 3.40527 27.56 6.76777 27.56 10.599C27.56 18.569 18.2425 26.9865 15.0137 27.0453H15V27.0478Z\",\"fill\":\"white\"}})]),_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(tweet.likeCount))])])])]),(tweet.replyState)?_c('ReplyModal',{attrs:{\"initial_tweet\":tweet},on:{\"handleReplyState\":_vm.afterReplyState,\"after-submit\":_vm.afterHandleSubmit}}):_vm._e()],1)}),0)])],1)])]),_c('section',{staticClass:\"col-3\",staticStyle:{\"min-width\":\"274px\"}},[_c('RecommendUsers')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 首頁 -->\r\n  <div class=\"container row\">\r\n    <!-- navbar -->\r\n    <section class=\"col-2\" style=\"min-width: 176px\">\r\n      <Navbar @submit-tweet=\"handleSubmitTweet\" :tweet_state=\"tweetState\" />\r\n    </section>\r\n    <!-- main -->\r\n    <section class=\"main-section col-7\">\r\n      <div class=\"main .scrollbar\">\r\n        <h4>首頁</h4>\r\n        <div class=\"tweet-board\">\r\n          <div class=\"tweet-board__user\">\r\n            <router-link\r\n              :to=\"{ name: 'user-post', params: { id: currentUser.id } }\"\r\n            >\r\n              <img :src=\"currentUser.avatar | emptyImage\" alt=\"userImg\" />\r\n            </router-link>\r\n            <form @submit.stop.prevent=\"submitTweet\" action=\"\">\r\n              <div id=\"parent\">\r\n                <div id=\"dummy\">{{ content }}</div>\r\n                <textarea\r\n                  ref=\"mainTextarea\"\r\n                  v-model=\"content\"\r\n                  class=\"tweet-content\"\r\n                  name=\"tweet\"\r\n                  id=\"\"\r\n                  cols=\"30\"\r\n                  rows=\"2\"\r\n                  placeholder=\"有甚麼新鮮事?\"\r\n                ></textarea>\r\n              </div>\r\n              <div class=\"tweet-footer\">\r\n                <span v-if=\"content.length > 140\" class=\"alertWord\"\r\n                  >已超過 140 個字</span\r\n                >\r\n                <span :class=\"{ red: content.length > 140 }\"\r\n                  >{{ countLength }}/140</span\r\n                >\r\n                <button\r\n                  type=\"submit\"\r\n                  class=\"tweet-btn\"\r\n                  :disabled=\"isProcessing\"\r\n                >\r\n                  推文\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <Spinner v-if=\"isLoading\" />\r\n          <div v-else class=\"tweet-board__otherUser\">\r\n            <ul>\r\n              <li class=\"list-item\" v-for=\"tweet in tweets\" :key=\"tweet.id\">\r\n                <router-link\r\n                  :to=\"{ name: 'user-post', params: { id: tweet.UserId } }\"\r\n                >\r\n                  <img\r\n                    :src=\"tweet.User.avatar | emptyImage\"\r\n                    alt=\"otherUserImg\"\r\n                  />\r\n                </router-link>\r\n                <div>\r\n                  <div class=\"user\">\r\n                    <router-link\r\n                      :to=\"{\r\n                        name: 'user-post',\r\n                        params: { id: tweet.UserId },\r\n                      }\"\r\n                      class=\"user__name\"\r\n                    >\r\n                      {{ tweet.User.name }}\r\n                    </router-link>\r\n                    <router-link\r\n                      :to=\"{\r\n                        name: 'user-post',\r\n                        params: { id: tweet.UserId },\r\n                      }\"\r\n                      class=\"user__account\"\r\n                    >\r\n                      @{{ tweet.User.account }} ・\r\n                    </router-link>\r\n\r\n                    <router-link\r\n                      :to=\"{ name: 'replylist', params: { id: tweet.id } }\"\r\n                      class=\"user__posttime\"\r\n                    >\r\n                      {{ tweet.createdAt | fromNow }}\r\n                    </router-link>\r\n                  </div>\r\n                  <div class=\"post\">\r\n                    <router-link\r\n                      style=\"white-space: pre-wrap\"\r\n                      :to=\"{ name: 'replylist', params: { id: tweet.id } }\"\r\n                      >{{ tweet.description }}</router-link\r\n                    >\r\n                  </div>\r\n                  <div class=\"extra-info\">\r\n                    <div class=\"btn comment\">\r\n                      <svg\r\n                        @click=\"makeReply(tweet.id)\"\r\n                        class=\"icon comment__icon\"\r\n                        viewBox=\"0 0 30 30\"\r\n                        fill=\"#657786\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                      >\r\n                        <path\r\n                          d=\"M17.5576 2.80254L12.3726 2.79004H12.3701C6.90262 2.79004 2.62012 7.07379 2.62012 12.5425C2.62012 17.665 6.60262 21.55 11.9514 21.755V26.54C11.9514 26.675 12.0064 26.8975 12.1014 27.0438C12.2789 27.325 12.5814 27.4775 12.8914 27.4775C13.0639 27.4775 13.2376 27.43 13.3939 27.33C13.7239 27.12 21.4851 22.155 23.5039 20.4475C25.8814 18.435 27.3039 15.485 27.3076 12.5575V12.5363C27.3001 7.07754 23.0201 2.80254 17.5576 2.80129V2.80254ZM22.2914 19.0175C20.8739 20.2175 16.2139 23.2738 13.8264 24.8213V20.8375C13.8264 20.32 13.4076 19.9 12.8889 19.9H12.3939C7.81887 19.9 4.49637 16.805 4.49637 12.5425C4.49637 8.12504 7.95637 4.66504 12.3714 4.66504L17.5551 4.67754H17.5576C21.9726 4.67754 25.4326 8.13504 25.4351 12.5475C25.4314 14.935 24.2576 17.3525 22.2926 19.0175H22.2914Z\"\r\n                        />\r\n                      </svg>\r\n                      <span class=\"num\">{{ tweet.replyCount }}</span>\r\n                    </div>\r\n                    <div class=\"btn like\">\r\n                      <svg\r\n                        v-if=\"tweet.isLiked\"\r\n                        @click.stop=\"deleteLike(tweet.id)\"\r\n                        class=\"icon like__icon\"\r\n                        :class=\"{ disabled: isProcessing }\"\r\n                        viewBox=\"0 0 30 30\"\r\n                        fill=\"#f91880\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                      >\r\n                        <path\r\n                          d=\"M15 27.0478H14.9825C11.7538 26.9878 2.4375 18.5703 2.4375 10.5978C2.4375 6.76777 5.59375 3.40527 9.19125 3.40527C12.0537 3.40527 13.9787 5.38027 14.9987 6.81777C16.0162 5.38277 17.9412 3.40527 20.805 3.40527C24.405 3.40527 27.56 6.76777 27.56 10.599C27.56 18.569 18.2425 26.9865 15.0137 27.0453H15V27.0478Z\"\r\n                          fill=\"#f91880\"\r\n                        />\r\n                      </svg>\r\n                      <svg\r\n                        v-else\r\n                        @click.stop=\"addLike(tweet.id)\"\r\n                        class=\"icon like__icon\"\r\n                        :class=\"{ disabled: isProcessing }\"\r\n                        viewBox=\"0 0 30 30\"\r\n                        fill=\"#fff\"\r\n                        stroke=\"#657786\"\r\n                        stroke-width=\"2px\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                      >\r\n                        <path\r\n                          d=\"M15 27.0478H14.9825C11.7538 26.9878 2.4375 18.5703 2.4375 10.5978C2.4375 6.76777 5.59375 3.40527 9.19125 3.40527C12.0537 3.40527 13.9787 5.38027 14.9987 6.81777C16.0162 5.38277 17.9412 3.40527 20.805 3.40527C24.405 3.40527 27.56 6.76777 27.56 10.599C27.56 18.569 18.2425 26.9865 15.0137 27.0453H15V27.0478Z\"\r\n                          fill=\"white\"\r\n                        />\r\n                      </svg>\r\n                      <span class=\"num\">{{ tweet.likeCount }}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!-- reply modal -->\r\n                <ReplyModal\r\n                  v-if=\"tweet.replyState\"\r\n                  :initial_tweet=\"tweet\"\r\n                  @handleReplyState=\"afterReplyState\"\r\n                  @after-submit=\"afterHandleSubmit\"\r\n                />\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <!-- recommend -->\r\n    <section class=\"col-3\" style=\"min-width: 274px\">\r\n      <RecommendUsers />\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Navbar from \"./../components/Navbar.vue\";\r\nimport RecommendUsers from \"./../components/RecommendUsers.vue\";\r\nimport ReplyModal from \"./../components/ReplyModal.vue\";\r\nimport Spinner from \"./../components/Spinner.vue\";\r\n// api\r\nimport tweetsAPI from \"./../apis/tweet\";\r\n// 共用區\r\nimport { Toast } from \"./../utils/helpers\";\r\nimport { mapState } from \"vuex\";\r\nimport { emptyImageFilter } from \"./../utils/mixins\";\r\nimport { fromNowFilter } from \"./../utils/mixins\";\r\n\r\nexport default {\r\n  name: \"main-component\",\r\n  mixins: [emptyImageFilter, fromNowFilter],\r\n  components: {\r\n    Navbar,\r\n    RecommendUsers,\r\n    ReplyModal,\r\n    Spinner,\r\n  },\r\n  data() {\r\n    return {\r\n      count: 1,\r\n      content: \"\",\r\n      tweets: [],\r\n      tweetState: false,\r\n      isLoading: false,\r\n      isProcessing: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentUser\"]),\r\n    countLength() {\r\n      return this.content.length;\r\n    },\r\n  },\r\n  created() {\r\n    this.fetchTweet({\r\n      limit: 10,\r\n    });\r\n  },\r\n  methods: {\r\n    async fetchTweet({ limit }) {\r\n      try {\r\n        this.isLoading = true;\r\n        const { data } = await tweetsAPI.getTweets({\r\n          limit,\r\n        });\r\n        this.tweets = data;\r\n        console.log(this.tweets);\r\n        this.tweets = this.tweets.map((tweet) => ({\r\n          ...tweet,\r\n          replyState: false,\r\n          tweetState: false,\r\n        }));\r\n        this.isLoading = false;\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        console.log(error);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取得推文資料，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    // 新增喜歡\r\n    async addLike(tweetId) {\r\n      try {\r\n        this.isProcessing = true;\r\n        const { data } = await tweetsAPI.addTweetLike(tweetId);\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n        this.tweets = this.tweets.map((tweet) => {\r\n          if (tweet.id === tweetId) {\r\n            return {\r\n              ...tweet,\r\n              isLiked: true,\r\n              likeCount: tweet.likeCount + 1,\r\n            };\r\n          }\r\n          return tweet;\r\n        });\r\n        Toast.fire({\r\n          icon: \"success\",\r\n          title: \"已按讚\",\r\n        });\r\n        this.isProcessing = false;\r\n      } catch (error) {\r\n        this.isProcessing = false;\r\n        console.log(error);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"按讚失敗\",\r\n        });\r\n      }\r\n    },\r\n    // 移除喜歡\r\n    async deleteLike(tweetId) {\r\n      try {\r\n        this.isProcessing = true;\r\n        const { data } = await tweetsAPI.cancelTweetLike(tweetId);\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n        this.tweets = this.tweets.map((tweet) => {\r\n          if (tweet.id === tweetId) {\r\n            return {\r\n              ...tweet,\r\n              isLiked: false,\r\n              likeCount: tweet.likeCount - 1,\r\n            };\r\n          }\r\n          return tweet;\r\n        });\r\n        Toast.fire({\r\n          icon: \"success\",\r\n          title: \"已取消讚\",\r\n        });\r\n        this.isProcessing = false;\r\n      } catch (error) {\r\n        this.isProcessing = false;\r\n        console.log(error);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"取消讚失敗\",\r\n        });\r\n      }\r\n      this.$forceUpdate();\r\n    },\r\n    // 跳出留言彈跳視窗\r\n    makeReply(tweetId) {\r\n      this.tweets = this.tweets.map((tweet) => {\r\n        if (tweetId === tweet.id) {\r\n          return {\r\n            ...tweet,\r\n            replyState: true,\r\n          };\r\n        }\r\n        return tweet;\r\n      });\r\n    },\r\n    // 關閉留言彈跳視窗\r\n    afterReplyState(tweetId) {\r\n      this.tweets = this.tweets.map((tweet) => {\r\n        if (tweetId === tweet.id) {\r\n          return {\r\n            ...tweet,\r\n            replyState: false,\r\n          };\r\n        }\r\n        return tweet;\r\n      });\r\n    },\r\n    // 新增留言\r\n    async afterHandleSubmit({ tweetId }) {\r\n      this.tweets = this.tweets.map((tweet) => {\r\n        if (tweetId === tweet.id) {\r\n          return {\r\n            ...tweet,\r\n            replyState: false,\r\n            replyCount: tweet.replyCount + 1,\r\n          };\r\n        }\r\n        return tweet;\r\n      });\r\n    },\r\n    // 新增貼文\r\n    async submitTweet() {\r\n      if (this.content.trim() === \"\") {\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"推文內容請勿空白\",\r\n        });\r\n        return;\r\n      }\r\n      if (this.content.length > 140) {\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"推文字數超過 140 個字\",\r\n        });\r\n        return;\r\n      }\r\n      try {\r\n        this.isProcessing = true;\r\n        const { data } = await tweetsAPI.addTweet({\r\n          description: this.content,\r\n        });\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n        Toast.fire({\r\n          icon: \"success\",\r\n          title: \"成功新增一則貼文\",\r\n        });\r\n        this.fetchTweet({ limit: 10 });\r\n        this.content = \"\";\r\n        this.isProcessing = false;\r\n      } catch (error) {\r\n        this.isProcessing = false;\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"新增貼文失敗\",\r\n        });\r\n      }\r\n    },\r\n    // 新增貼文(navbar)\r\n    async handleSubmitTweet() {\r\n      this.fetchTweet({ limit: 10 });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.container {\r\n  width: 100vw;\r\n  max-width: 1400px;\r\n  height: 100vh;\r\n  padding-left: 130px;\r\n  margin: 0 auto;\r\n  .main-section {\r\n    flex: 0px 1 1;\r\n  }\r\n}\r\n// 取消滾輪\r\n::-webkit-scrollbar {\r\n  /* make scrollbar transparent */\r\n  width: 0px;\r\n  background: transparent;\r\n}\r\n\r\n.main {\r\n  border-left: 1px solid #e6ecf0;\r\n  border-right: 1px solid #e6ecf0;\r\n  height: 100vh;\r\n  overflow-y: scroll;\r\n  h4 {\r\n    width: 100%;\r\n    padding: 24px;\r\n    border-bottom: 1px solid #e6ecf0;\r\n    position: sticky;\r\n    top: 0;\r\n    z-index: 1;\r\n  }\r\n  h4::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    // 毛玻璃特效\r\n    backdrop-filter: blur(3px);\r\n    z-index: -1;\r\n  }\r\n  // 圖片共同樣式\r\n  img {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    margin-right: 8px;\r\n  }\r\n  .tweet-board {\r\n    &__user {\r\n      display: flex;\r\n      padding: 16px 24px;\r\n      border-bottom: 10px solid #e6ecf0;\r\n      form {\r\n        width: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n      }\r\n      #parent {\r\n        width: 100%;\r\n        position: relative;\r\n        font-size: 16px;\r\n        font-weight: 400;\r\n        max-height: 60vh;\r\n        color: #6c757d;\r\n        width: 500px;\r\n      }\r\n      #dummy {\r\n        visibility: hidden;\r\n        min-height: 57px;\r\n        white-space: pre-wrap;\r\n        color: #6c757d;\r\n        padding-top: 12px;\r\n      }\r\n      #dummy::after {\r\n        content: \"\\A\";\r\n      }\r\n      .tweet-content {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        resize: none;\r\n        font: inherit;\r\n        padding-top: 12px;\r\n        border: none;\r\n        outline: none;\r\n      }\r\n      .tweet-footer {\r\n        align-self: flex-end;\r\n        margin-top: 16px;\r\n      }\r\n      .red {\r\n        color: red;\r\n      }\r\n      .alertWord {\r\n        color: red;\r\n        margin-right: 16px;\r\n      }\r\n      .tweet-btn {\r\n        margin-left: 16px;\r\n        border: none;\r\n        background-color: var(--main-color);\r\n        color: #fff;\r\n        width: 64px;\r\n        height: 40px;\r\n        border-radius: 50px;\r\n        padding: 8px 16px;\r\n        font-size: 16px;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n    &__otherUser {\r\n      .list-item,\r\n      .user,\r\n      .extra-info {\r\n        display: flex;\r\n      }\r\n      .list-item {\r\n        padding: 16px 24px;\r\n        border-bottom: 1px solid #e6ecf0;\r\n      }\r\n      .user {\r\n        align-items: center;\r\n        &__name {\r\n          font-size: 16px;\r\n          font-weight: 700;\r\n          margin-right: 8px;\r\n        }\r\n        &__account,\r\n        &__posttime {\r\n          font-size: 14px;\r\n          font-weight: 400;\r\n          color: #6c757d;\r\n        }\r\n        &__posttime:hover {\r\n          border-bottom: 1px solid #e6ecf0;\r\n        }\r\n      }\r\n      .post {\r\n        margin: 0.5rem 0;\r\n      }\r\n      .extra-info {\r\n        width: 10vw;\r\n        justify-content: space-between;\r\n        .btn {\r\n          width: 38px;\r\n          display: flex;\r\n          align-items: center;\r\n          .icon {\r\n            width: 16px;\r\n            height: 16px;\r\n            fill: #6c757d;\r\n            background-size: cover;\r\n            margin-right: 9px;\r\n            cursor: pointer;\r\n            &.disabled {\r\n              pointer-events: none;\r\n            }\r\n          }\r\n          .num {\r\n            color: #6c757d;\r\n            font-family: \"Montserrat\", sans-serif;\r\n            font-size: 14px;\r\n            font-weight: 600;\r\n          }\r\n        }\r\n        .comment:hover .icon,\r\n        .comment:hover .num {\r\n          fill: var(--main-color);\r\n          color: var(--main-color);\r\n        }\r\n        .like:hover .icon,\r\n        .like:hover .num {\r\n          stroke: #f91880;\r\n          color: #f91880;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=0234df0c&scoped=true&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Main.vue?vue&type=style&index=0&id=0234df0c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0234df0c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}